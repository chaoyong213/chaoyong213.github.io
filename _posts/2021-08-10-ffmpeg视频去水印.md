---
layout: post
title: ffmpeg视频去水印
date: 2021-08-10
tags: ffmpeg
---

### ffmpeg视频去水印

>fmpeg提供一个delogo滤镜可以去除视频水印，通过对周围像素进行简单的插值来去掉一个logo,不过有可能产生一个马赛克效果

官方文档参考

http://ffmpeg.org/ffmpeg-all.html#delogo

1.使用delogo去除水印

+ 通过对周围像素进行简单的插值来去掉一个logo。设置一个矩形覆盖标识，但可能出现其他误差

```shell
参数
x,y  logo的位置
w,h  logo的宽高
band,t
指定矩形模糊边缘的厚度(添加到w和h),默认值为1.该选项不赞成使用
show
当设置为1时,将在屏幕上绘制一个绿色矩形,以简化查找正确的x/y/w和h参数.默认值为0.
去水印

ffmpeg -i logo.mp4 -filter_complex "delogo=x=100:y=100:w=100:h=100:show=1" delogo.mp4

如果周围的颜色差不多,所以可以完美的去掉logo,但是如果周围的颜色比较复杂就出现一个马赛克的效果

```

>注意：设置show=1则会出现一个绿框

```shell
ffmpeg -i logo.mp4 -filter_complex "delogo=x=100:y=100:w=100:h=100:show=1" delogo.mp4
```
