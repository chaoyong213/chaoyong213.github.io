---
layout: post
title: "btc行情接口"
date: 2021-06-29
description: ""
tag: btc
---

> 我就以新浪和火币为例，分别给大家说明下新浪和火币网的行情采集规则。

### 新浪的api
> 接口网址http://hq.sinajs.cn/?_/&list=  
> 这个list后面加上你要采集的行情代码，比如我要采集美元兑日元，先查询到行情代码为hq_str_fx_susdjpy，
> 那么完整get地址就为http://hq.sinajs.cn/?_/&list=hq_str_fx_susdjpy，
> 直接curl结果为: 

```shell
var hq_str_fx_susdjpy="03:23:33,104.530000,104.580000,104.532000,0,104.530000,104.530000,104.530000,104.530000,美元兑日元即期汇率,0.000000,-0.002000,0,UBS Investment Bank. Zurich,101.178000,101.178000,**-,2020-09-20";
```

> 那么以,为分割，分别代表：美时间，现价，昨收，今开，最高，最低，涨跌%，涨跌幅，振幅，持仓量，买量，卖量，名称。你只需要通过返回数据处理去拿你需要的几个参数就可以了。

> 那么假如我们要数字货币，就以火币的比特币BTC行情来举例，如果申请了火币的账号会有更多深度的接口。
> 比如API接口地址为https://api.huobi.proh,
> 我们要获取BTC的行情，那么先查询到BTC的行情代码为ethbtc，
> 那么完整的curl地址为: 
> https://api.huobi.pro/market/detail/merged?symbol=ethusdt,此时返回值为

```shell
"id":1499225271,
"ts":1499225271000,
"close":1885.0000,/// 本阶段最新价（以滚动24小时计）
"open":1960.0000,/// 本阶段开盘价（以滚动24小时计）
"high":1985.0000,/// 本阶段最高价（以滚动24小时计）
"low":1856.0000,/// 本阶段最低价（以滚动24小时计）
"amount":81486.2926,/// 交易量
"count":42122,/// 交易次数
"vol":157052744.85708200,/// 以报价币种计量的交易量（以滚动24小时计）
"ask":[1885.0000,21.8804], ///当前的最低卖价 [price, size]
"bid":[1884.0000,1.6702]/// 当前的最高买价 [price, size]
```

同理，根据返回值处理 去拿我们需要的参数进行入库。
